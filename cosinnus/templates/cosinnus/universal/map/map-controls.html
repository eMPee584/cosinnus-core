{% load i18n %}
<div class="controls">
	<div class="map-controls">
		<form id="map-search">
		    {% if availableFilters.people %}
		        <div class="line">
		            <div class="result-filter check people" data-result-type="people">
		                <div class="box">
		                    {% if activeFilters.people %}
		                        <i class="fa fa-check"></i>
		                    {% endif %}
		                </div>
		                <div class="check-label">
		                   {# Translators: __INCLUDE_JS_PO__ #}
		                   {% trans "People" %}
		                </div>
		            </div>
		        </div>
		    {% endif %}
		
		    {% if availableFilters.events %}
		        <div class="line">
		            <div class="result-filter check events" data-result-type="events">
		                <div class="box">
		                    {% if activeFilters.events %}
		                        <i class="fa fa-check"></i>
		                    {% endif %}
		                </div>
		                <div class="check-label">
		                    {# Translators: __INCLUDE_JS_PO__ #}
		                    {% trans 'Events' %}
	                    </div>
		            </div>
		        </div>
		    {% endif %}
		
		    {% if availableFilters.projects %}
		        <div class="line">
		            <div class="result-filter check projects" data-result-type="projects">
		                <div class="box">
		                    {% if activeFilters.projects %}
		                        <i class="fa fa-check"></i>
		                    {% endif %}
		                </div>
		                <div class="check-label">
		                    {# Translators: __INCLUDE_JS_PO__ #}
		                    {% trans 'Projects' %}
	                    </div>
		            </div>
		        </div>
		    {% endif %}
		
		    {% if availableFilters.groups %}
		        <div class="line">
		            <div class="result-filter check groups" data-result-type="groups">
		                <div class="box">
		                    {% if activeFilters.groups %}
		                        <i class="fa fa-check"></i>
		                    {% endif %}
		                </div>
		                <div class="check-label">
		                    {# Translators: __INCLUDE_JS_PO__ #}
		                    {% trans 'Groups' %}
	                    </div>
		            </div>
		        </div>
		    {% endif %}
		    
		    <div class="large-space"></div>
		
		    {% if not activeFilters.people or not activeFilters.events or not activeFilters.projects or not activeFilters.groups %}
		        <div class="line">
		            <a href="#" class="reset-filters">
		                Alle anzeigen
		            </a>
			    </div>
		    {% endif %}
		
		    <div class="line text-field">
		        <input type="text" class="q" name="q" placeholder="Suche" value="{{ q }}" />
		        <i class="fa fa-search icon-search{% if wantsToSearch %} hidden{% endif %}"></i>
		        <div class="icon-loading sk-double-bounce{% if not wantsToSearch %} hidden{% endif %}">
		            <div class="sk-child sk-double-bounce1"></div>
		            <div class="sk-child sk-double-bounce2"></div>
		        </div>
		    </div>
		    
		    {% if topicsVisible %} 
		        <div class="line topics">
		            {{ topicsHtml|safe }}
		        </div>
		    {% else %}
		        <div class="line link show-topics">
		            <a href="#">
		                <i class="fa fa-caret-down pull-right"></i>
		                <span>Nach Themen filtern...</span>
		            </a>
		        </div>
		    {% endif %}
		    
		    <div class="message"></div>
		</form>
	</div>
	
	{% if scrollControlsEnabled %}
        <div class="map-scroll-controls">
            <div class="line">
                <div class="check scroll toggle-search-on-scroll">
                    <div class="box">
                        {% if searchOnScroll %}
                            <i class="fa fa-check"></i>
                        {% endif %}
                    </div>
                    <div class="check-label">
                        {# Translators: __INCLUDE_JS_PO__ #}
                        {% trans 'Search when moving the map' %}
                    </div>
                </div>
                
                {% if not searchOnScroll and resultsStale and not searching %}
                    <div class="map-button stale-search-button">
                       <span>
                           {# Translators: __INCLUDE_JS_PO__ #}
                           {% trans 'Search this area' %}
                       </span>
                    </div>
                {% endif %}
            </div>
        </div>
    {% endif %}
    
    {% if paginationControlsEnabled %}
        <div class="map-pagination-controls">
            <div class="line">
                {% if page %}
		            <span>
		                {# Translators: __INCLUDE_JS_PO__ #}
		                {% trans 'Showing results' %}
		            </span>
		            <span>
		                {{ page.start }} - {{ page.end }}
		            </span>
		            {% if 1  %}
		                <i>
	                        ({{ page.total_count }})
	                    </i>
		            {% endif %}
		            
		            
		            {% if page and page.has_next or page and page.has_previous %}
		                <div class="map-button pagination-forward-button {% if not page.has_next %}disabled {% endif %}">
		                    <i class="fa fa-chevron-right"></i>
		                </div>
		                <div class="map-button pagination-back-button {% if not page.has_previous %}disabled {% endif %}">
		                    <i class="fa fa-chevron-left"></i>
		                </div>
	                {% endif %}
                {% else %}
                    <i>
                        {# Translators: __INCLUDE_JS_PO__ #}
                        {% trans 'No results found.' %}
                    </i>
                {% endif %}
            </div>
        </div>
    {% endif %}
	
	
</div>
