{% import "include/macros.html" as macros %}

<div class="tile tile-{{ type }} grid-item {% if selected %}selected{% endif %} {% if hovered %}hovered{% endif %}">
    <div class="tile-detail-link result-link" {{ macros.resultLink(portal, slug, title, type, inline_only=1) }}>
        {% if isSmall %}
            <div class="single-tile-image">
                <img class="framed-tile-image" src="{{ iconImageUrl }}" />
            </div>
        {% endif %}
    
        {% block type_area %}
            <div class="tile-header-section">
               {{ macros.typeLabel(type, singular=1) }}
			    <span style="font-size:8px;color:#ccc;">score: {{relevance}}</span> {# TODO: delete me #}
			    
			    {% if not isSmall and controlView.portalInfo.current != portal %}
			        <div class="pull-right">
			            <a class="portal-inlink uncolored-link" href="{{ controlView.portalInfo[portal].domain }}" target="_blank" title="{{ controlView.portalInfo[portal].name }}">
			                {# <img src="{{ controlView.portalInfo[portal].image_url }}" style="width:20px;"> #}
			                {{ controlView.portalInfo[portal].name }}
			            </a> 
			        </div>
			    {% endif %}
		    </div>
        {% endblock %}
        
        {% if not isSmall %}
	        <div class="tile-section">
	            <div class="dual-tile-image {% if not backgroundImageSmallUrl %}image-placeholder-background-{{ type }}{% endif %}">
	                {% if backgroundImageSmallUrl %}
	                    <img class="tile-image tile-image-background" src="{{ backgroundImageSmallUrl }}" />
	                {% endif %}
	                <img class="floating-tile-image" src="{{ iconImageUrl }}" />
	            </div>
	        </div>
        {% endif %}
        
        {% block description_area %}{% endblock %}
        
        {% block icon_area %}{% endblock %}
    </div> 
</div>
