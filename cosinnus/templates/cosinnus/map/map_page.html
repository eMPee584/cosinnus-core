{% extends "cosinnus/base.html" %}
{% load i18n thumbnail cosinnus_tags %}

{% block html_attributes %}style="overflow: hidden;"{% endblock html_attributes %}

{% block page_title %}{% trans "Map" %}{% endblock %}

{% block og_url %}{{ COSINNUS_CURRENT_PORTAL.get_domain }}{{ request.path }}{% if request.GET.values %}?{{ request.GET.urlencode|safe }}{% endif %}{% endblock og_url %}
{% block og_title %}{% if item %}{{ item.title }} - {% endif %}{{ block.super }}{% endblock %}
{% block og_image %}{% if item and item.imageUrl %}{{ COSINNUS_CURRENT_PORTAL.get_domain }}{{ item.imageUrl }}{% else %}{{ block.super }}{% endif %}{% endblock %}
{% block og_description %}{% if item and item.description %}{{ item.description|linebreaksoneline|striptags }}{% else %}{{ block.super }}{% endif %}{% endblock %}

{% block extrahead %}
    {{ block.super }}
	{% include 'cosinnus/map/static_dependencies.html' %}
{% endblock extrahead %}


{% block main_page %}
    <div class="row">
    	{% include 'cosinnus/common/internet_explorer_not_supported.html' %}
    
        {% comment %} Settings for this map are initialized in the extraheader, and passed in a router.js, and uses a lot of
                       the default settings defined in map.js.        
        {% endcomment %}
        <div id="app-fullscreen" class="app-root app-fullscreen"></div>
        {% comment %}
            {% include 'cosinnus/common/init_client_module.html' with module='map' id=1 height=400 settings=settings %}
            {% include 'cosinnus/common/init_client_module.html' with module='map' id=2 height=800 settings=settings %}
        {% endcomment %}
    </div>

{% endblock main_page %}
